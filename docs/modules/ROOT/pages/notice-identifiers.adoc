// SPDX-License-Identifier: CC-BY-4.0
// SPDX-FileCopyrightText: 2026-present The Norwegian Agency for Finance and Public Management (DFÃ˜) 
ifdef::env-antora[]
include::partial$common-attributes.adoc[]
endif::[]

ifndef::env-antora[]
include::../partials/common-attributes.adoc[]
endif::[]

= Notice identifiers
:revnumber: 0.1
:revdate: 2026-02-17
:author: {contrib-amtl}

== Purpose and scope

This document explains how identifiers are used for procurement notices in the
Norwegian implementation of eForms, with particular focus on:

* how Doffin identifiers relate to eForms notice identifiers
* how TED identifiers relate to eForms notice identifiers
* how notice versioning works in eForms (`UUIDv4` + version)
* how related notices can be linked together across procurement phases,
  corrigenda, and cancellations
* how procedure-level identifiers (e.g. `procedure-identifier`) should be
  interpreted and used

The intended audience includes both functional and technical stakeholders, such
as:

* contracting authorities and procurement specialists
* system integrators
* support tool vendors and downstream data consumers

=== In scope

* conceptual explanation of the identifier model
* recommended practices for grouping and linking notices
* examples illustrating common scenarios

=== Out of scope

Detailed XML field mappings, schema (XSD) structure, and BT-code references
are intentionally kept out of this document to preserve readability.

Technical details are provided in separate documents (see references at the
end of this file).

=== Normative language

The key words *MUST*, *MUST NOT*, *REQUIRED*, *SHALL*, *SHALL NOT*,
*SHOULD*, *SHOULD NOT*, *RECOMMENDED*, *MAY*, and *OPTIONAL* in this
document are to be interpreted as described in {rfc2119-url}[RFC 2119] and
{rfc8174-url}[RFC 8174].

These words are normative only when they appear in all capitals.

In addition, the term *NOTE* is used to indicate non-normative information.

=== Terminology

* *Notice*: a published eForms notice.
* *Procedure*: the underlying procurement process identified by
  `procedure-identifier`.

== Overview: identifier landscape

This section defines the identifier model used in the Norwegian implementation
of eForms. 

Identifiers are classified into two categories:

* notice-level identifiers, and
* procedure-level identifiers.

Within the notice-level category, this document further distinguishes between:

* eForms semantic identifiers (forming part of the eForms data model), and
* publication reference identifiers 
  (assigned by publication systems such as Doffin or TED).

These dimensions are orthogonal: notice-level identifiers may be either eForms
semantic identifiers or publication reference identifiers, whereas
procedure-level identifiers are always semantic identifiers.

[role=requirement]
[[req-distinguish-notice-vs-procedure-identifiers]]
====
Systems that store, export or process notice data *MUST* distinguish between
notice-level identifiers and procedure-level identifiers.
====

[role=requirement]
[[req-no-substitute-notice-for-procedure-identifiers]] 
====
Systems *MUST NOT* use notice-level identifiers as substitutes for
procedure-level identifiers.
====

The table below provides a high-level overview of the identifiers covered by
this document.

[cols="2,2,1,1,3", options="header"]
|===
| Identifier | Category | Applies to | Stability | Primary purpose

| `doffin-identifier`
| Publication reference identifier
| Published notice
| Stable per publication instance
| Doffin lookup and indexing

| `publication-number`
| Publication reference identifier
| Published notice
| Stable per publication instance
| TED lookup and indexing

| `notice-identifier`
| eForms semantic identifier
| Notice identity
| Stable
| Stable notice identity across versions

| `notice-version`
| eForms semantic identifier
| Notice identity
| Changes
| Version within notice identity

| `procedure-identifier`
| eForms semantic identifier
| Procedure identity
| Stable
| Stable procedure identity across notices
|===

[NOTE]
====
(`notice-identifier`, `notice-version`) and `procedure-identifier`
are eForms semantic identifiers. `doffin-identifier` and `publication-number`
are publication reference identifiers. 
====

=== Notice-level identifiers

Notice-level identifiers relate to a specific published notice or to its
eForms notice identity.

[role=requirement]
[[req-notice-identifier-refers-to-published-notice]]
====
A notice-level identifier *MUST* refer to a specific published notice.
====

[role=requirement]
[[req-notice-identifiers-not-procedure-identifiers]]
====
A notice-level identifier *MUST NOT* be used to identify an underlying
procurement procedure.
====

This document distinguishes between:

* (eForms) notice identity identifiers, and
* publication reference identifiers (Doffin and TED). 

[role=requirement]
[[req-treat-notice-identity-and-publication-reference-separately]]
====
Systems *MUST* treat notice identity identifiers and publication reference
identifiers as separate concepts.
====

The primary eForms notice identifiers are:

* `notice-identifier`
* `notice-version`

[role=requirement]
[[req-reference-specific-notice-state-use-notice-id-and-version]]
====
The combination of (`notice-identifier`, `notice-version`) *MUST* be used when
referencing a specific published state of an eForms notice.
====

In addition, two publication reference identifiers may exist for a notice:

* `doffin-identifier` (Doffin)
* `publication-number` (TED)

These identifiers support indexing and lookup in their respective publication
systems.

[role=requirement]
[[req-no-substitute-publication-ids-for-eforms-notice-id]]
====
Systems *MUST NOT* treat `doffin-identifier` or `publication-number` as
substitutes for (`notice-identifier`, `notice-version`).
====

[role=requirement]
[[req-when-referencing-spefific-notice-versions-include-both]]
====
When referencing a specific notice version, systems *MUST* include both
`notice-identifier` and `notice-version`.
====

[role=requirement]
[[req-notice-identifier-stability-on-republication]]
====
The `notice-identifier` *MUST* remain stable across notice updates.
====

[role=requirement]
[[req-notice-version-changes-on-republication]]
====
The `notice-version` *MUST* change when a notice is republished in a new
version, including corrigenda.
====

In some contexts, the term `business-identifier` is used to denote a string
representation derived from `notice-identifier` and `notice-version`.

[role=requirement]
[[req-business-identifier-not-distinct]]
====
Systems *MUST NOT* treat `business-identifier` as a distinct identifier.
====

=== Procedure-level identifier

The `procedure-identifier` identifies the underlying procurement procedure.

[role=requirement]
[[req-procedure-established-on-competition-notice]]
====
A procurement procedure *MUST* be considered established when a competition
notice (e.g. `ContractNotice`) is published. 
====

[role=requirement]
[[req-procedure-identifier-stability-across-lifecycle]]
====
The `procedure-identifier` *MUST* remain stable across multiple notice
versions, corrigenda, procurement phases, and related notices belonging
to the same procurement process.
====

[role=requirement]
[[req-procedure-ended-on-award-notice]]
====
A procurement procedure *MUST NOT* be considered formally concluded until at
least one related result notice (`ContractAwardNotice`)  has been published for
the same `procedure-identifier`.
====

[role=requirement]
[[req-use-procedure-identifier-as-primary-grouping-key]]
====
Systems *MUST* use `procedure-identifier` as the primary grouping key
when grouping notices belonging to the same procurement procedure.
====

[role=requirement]
[[req-do-not-use-notice-id-for-procedure-grouping]]
====
Systems *MUST NOT* use `notice-identifier` (with or without `notice-version`)
as a procedure-level grouping key.
====

=== Referencing planning notices

A planning notice (`PriorInformationNotice`) does not establish a procurement
procedure.

[role=requirement]
[[req-planning-notice-must-not-contain-procedure-identifier]]
====
A planning notice (`PriorInformationNotice`) *MUST NOT* contain a
`procedure-identifier`.
====

Links between planning notices and subsequent notices
(e.g. `ContractNotice`, `ContractAwardNotice`, or another
`PriorInformationNotice`) are expressed by referencing the earlier
published notice directly.

[role=requirement]
[[req-planning-to-later-link-by-notice-reference]]
====
Links between planning notices and subsequent notices *MUST* be expressed
by referencing the earlier published notice directly. Such references
*MUST* use the combination (`notice-identifier`, `notice-version`) of
the earlier notice.
====

[role=requirement]
[[req-planning-reference-must-not-rely-on-procedure-id]]
====
A reference to a planning notice *MUST NOT* rely on a
`procedure-identifier`.
====

[role=requirement]
[[req-planning-reference-targets-specific-versioned-notice]]
====
A reference to a planning notice *MUST* target a specific, versioned notice.
====

[role=requirement]
[[req-planning-reference-must-not-target-procedure-id]]
====
A reference to a planning notice *MUST NOT* target a procedure-level
identifier.
====

== Doffin publication reference identifier (`doffin-identifier`)

The `doffin-identifier` is a national publication reference identifier assigned
upon publication in the Doffin system.

The `doffin-identifier` is a human-readable national publication identifier and
is not part of the eForms notice payload exchanged with TED.

[NOTE]
====
Although the `doffin-identifier` is not part of the eForms payload
exchanged with TED, TED publications can include hyperlinks to the
corresponding Doffin publication. In such cases, the `doffin-identifier`
can appear as part of the URL. This does not imply that it forms part of
the eForms notice data model.
====

=== Scope and semantics

The `doffin-identifier` identifies a specific published notice in Doffin.

[role=requirement]
[[req-doffin-id-not-procedure-identifier]]
====
The `doffin-identifier` *MUST NOT* be interpreted as a procedure-level
identifier.
====

[role=requirement]
[[req-doffin-id-not-substitute-for-notice-identifier]]
====
The `doffin-identifier` *MUST NOT* be used as a substitute for
`notice-identifier`.
====

The `doffin-identifier` has no semantic meaning beyond identifying a specific
publication instance.

It is a Doffin-specific publication identifier, and is only resolvable within
the Doffin ecosystem. 

[TIP]
====
In some integrations, the Doffin identifier may be
used in file naming conventions (e.g. `<doffin-identifier>.xml`). This does not
imply that the identifier is part of the eForms notice payload.
====

=== Relationship to eForms identifiers

Each `doffin-identifier` corresponds to exactly one combination of
(`notice-identifier`, `notice-version`).

[role=requirement]
[[req-prefer-eforms-versioned-reference-over-doffin-id]]
====
Systems that require a stable, version-aware reference to a notice
*SHOULD* rely on (`notice-identifier`, `notice-version`) rather than
`doffin-identifier`.
====

If a notice is republished as a new version, a new `doffin-identifier`
is assigned.

[role=requirement]
[[req-doffin-id-must-not-be-used-to-group-notice-version]]
====
The `doffin-identifier` *MUST NOT* be used to group multiple versions of the
same notice.
====

=== Format

The format of the `doffin-identifier` is:

`YYYY-NNNNNN`

where:

* `YYYY` represents the publication year, and
* `NNNNNN` is a sequential number assigned upon publication

The format is intended for human readability and indexing purposes.
It does not encode procedure identity or version semantics.

== TED (EU) publication reference identifier (`publication-number`)

The `publication-number` is the publication reference identifier assigned by
TED to a notice upon EU/EEA publication.

It serves a similar purpose to the `doffin-identifier`, in that it provides
a human-readable reference for locating a specific notice in the TED system.

The `publication-number` is only applicable to notices that are published
in TED.

Not all Norwegian notices are published at EU/EEA level. A notice will only
receive a `publication-number` when it is published in TED, either because
the procurement is subject to EU/EEA publication requirements, or because
the contracting authority chooses to publish at EU level voluntarily. 

[role=requirement]
[[req-do-not-require-publication-number-when-not-published-in-ted]]
====
Systems *MUST NOT* require a `publication-number` for notices that are not
published in TED. 
====

[role=requirement]
[[req-should-not-require-users-to-manage-publication-number]]
====
Systems *SHOULD NOT* require contracting authorities or end users to manage
or use the `publication-number` as part of the procurement process.
====

The primary identifiers for linking notices and tracking notice versions are
the eForms identifiers (`notice-identifier`, `notice-version`) and the
procedure-level identifier (`procedure-identifier`).

[role=requirement]
[[req-publication-number-may-be-included-as-optional-reference]]
====
The `publication-number` *MAY* be included as an additional reference in
later notices when a direct link back to a TED publication is useful.
====
Such references are optional and are primarily intended to support navigation
and external lookup, not notice identity or procedure grouping.

In practice, the `publication-number` is assigned by TED during the publication
process and becomes available after EU/EEA publication. 

[NOTE]
====
TED typically provides linkage between related publications based on
eForms identifiers (including `procedure-identifier`, `notice-identifier`,
and `notice-version`). Systems therefore *SHOULD NOT* rely on
`publication-number` for linking notices across versions or procurement phases.
====

[role=requirement]
[[req-linking-must-be-based-on-eforms-identifiers]]
====
Linking between notices *MUST* be based on eForms semantic identifiers.
====

[NOTE]
====
The `publication-number` is typically presented in the form
`XXXXXXXX-YYYY`, where

* `XXXXXXXX` is a sequential number assigned upon publication, and
* `YYYY` represents the publication year.

The format is defined by TED.
====

[role=requirement]
[[req-publication-number-not-a-substitute-for-other-identifiers]]
====
Systems *MUST NOT* use `publication-number` as a substitute for
`notice-identifier`, `notice-version`, `procedure-identifier`, or any
combinations thereof.
====

== eForms notice identifier and versioning

=== Notice identity (`notice-identifier`)

=== Versioning model (`notice-version`)

=== What constitutes a new notice

=== What constitutes a new version of a notice

=== Lifecycle of a notice (publication, update, corrigendum, cancellation)

=== Representation and derived identifiers (e.g. `business-identifier`)

== Linking related notices

=== Linking notices within the same procedure

=== Linking competition and result notices

=== Linking corrigenda

=== Linking planning notices retrospectively

=== Version-aware referencing requirements

== Procedure identity across the procurement lifecycle

=== Establishment of a procedure

=== Stability of `procedure-identifier`

=== Multi-phase procurement processes

=== Cancellation and re-publication scenarios

=== Edge cases and non-compliant patterns

== Interoperability considerations

=== National vs. EU identifiers

=== Mapping between Doffin and TED contexts

=== Data export and API considerations

=== Common implementation pitfalls

== Summary of normative requirements


ifdef::env-antora[]
include::partial$footer-meta.adoc[]
endif::[]

ifndef::env-antora[]
include::../partials/footer-meta.adoc[]
endif::[]