noticeTypes: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40]

fields:
  OPT-002-notice:
    pattern:
      value: ^eforms-sdk-\d\.\d#extended#urn:fdc:anskaffelser.no:2023:eforms:national$

rules:
  # /*/cbc:CustomizationID
  OPT-002-notice:
    - id: EFORMS-NOR-R001
      test: matches(normalize-space(),'^eforms-sdk-\d\.\d#extended#urn:fdc:anskaffelser.no:2023:eforms:national$')
      message: ...

  # /*/cbc:NoticeLanguageCode
  BT-702(a)-notice:
    - id: EFORMS-NOR-R002
      test: normalize-space() = ('BUL', 'CES', 'DAN', 'DEU', 'ELL', 'ENG', 'EST', 'FIN', 'FRA', 'GLE', 'HRV', 'HUN', 'ITA', 'LAV', 'LIT', 'MLT', 'NLD', 'POL', 'POR', 'RON', 'SLK', 'SLV', 'SPA', 'SWE', 'NOR', 'NOB', 'NNO')
      message: ...

  # /*/cac:AdditionalNoticeLanguage/cbc:ID
  BT-702(b)-notice:
    - id: EFORMS-NOR-R003
      test: normalize-space() = ('BUL', 'CES', 'DAN', 'DEU', 'ELL', 'ENG', 'EST', 'FIN', 'FRA', 'GLE', 'HRV', 'HUN', 'ITA', 'LAV', 'LIT', 'MLT', 'NLD', 'POL', 'POR', 'RON', 'SLK', 'SLV', 'SPA', 'SWE', 'NOR', 'NOB', 'NNO')
      message: ...

  # /*
  ND-Root:
    - id: EFORMS-NOR-R004
      test: normalize-space(cbc:NoticeLanguageCode) = ('NOR', 'NOB', 'NNO') or (some $l in cac:AdditionalNoticeLanguage/cbc:ID satisfies normalize-space($l) = ('NOR', 'NOB', 'NNO')) # then true() else false())
      message: At least one of the official lingustic versions must be in Norwegian.

    # TODO Assert any language is decleared only once

