---
meta:
  id: NOR-national-E2-overlay
  noticeType: E2
  version: 0.1.0

rules:
  - id: NOR-R-NationalLegalBasis-required
    kind: requireBoth
    fields:
      - "BT-01(e)-Procedure"
      - "BT-01(f)-Procedure"

  - id: NOR-R-NationalLegalBasis-pair
    kind: literalPairAllowed
    primary: "BT-01(e)-Procedure"
    secondary: "BT-01(f)-Procedure"
    literalPairsRef: "no:legal-basis-procedure-national-literals"

  - id: NOR-R-BT27-Procedure-Currency-NOK
    kind: fixedValue
    field: "BT-27-Procedure-Currency"
    value: "NOK"

  - id: NOR-R-BT27-Part-Currency-NOK
    kind: fixedValue
    field: "BT-27-Part-Currency"

  - id: NOR-R-BT27-Procedure-SumOfParts
    kind: sumEquals
    parentField: "BT-27-Procedure"
    childField: "BT-27-Part"
    groupBy: "Procedure"
    currencyFieldParent: "BT-27-Procedure-Currency"
    currencyFieldChild: "BT-27-Part-Currency"
